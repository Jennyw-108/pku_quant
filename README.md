# 量化策略回测系统的设计与实现

**概述**
<br />
<br />根据期中时的构想，我原来计划运用面向对象编程，对数据读取、生成信号、回测信号、展示结果等方面分别做成不同的Class，并互通运用。每个Class下将会有相应的Function来支持其功能。
然而，因为时间紧凑加上对量化系统和策略十分不熟悉的缘故，有限时间内，我只把几种不同基于不同指标的量化策略做成了不同的Class，并用他们在系统中实现相应功能。我计划用三种策略，第一种是最基础的日内反转策略，第二种是基于5日EMA和10日EMA指标的日内反转。这两种策略的制定都参考了最基础的定义，也是根据所提供的A股基础数据表来设计的。而第三种则是现实的量化交易中对动态因子选择的更多探索。为了更好了解量化系统在现实中的实现，我去找在量化公司做策略方面的同学探讨了下。从他那里，我了解了类似“聚宽”这样的平台，并试图根据现实中的数据探索了更多的回测机制。如果有更多时间和经验的话，我会把整个系统做得更完善一些，包括多做针对于用户持仓情况的Class等。以下是每个策略Class有的一些功能介绍：
<br />

*数据读取*

<br />1、对需要用到的A股数据和相关文件进行历史查询（从2020到2022年的全市场OHLCV数据）并转换成可以用的文件格式，如csv等。其中，可能用到的平台有VeighNa Station
<br />2、读取查询好的数据并进行数据预处理和清洗等步骤，包括了对异常和缺损数据的处理和对字符串进行分割等：比如把之前以str格式储存的文本转换成int和float等方便操作的格式
<br />
<br />

*生成信号*

<br />1、对信息信号进行发送、接收以及计算的功能
<br />2、具体操作包括根据当前价格对比历史数据价格，以决定是否交易，并生成买入、卖出或持有的相应信号
<br />
<br />

*回测信号*

<br />1、对交易的逻辑和过去订单的成本数据等进行模拟
<br />2、计算策略的收益和绩效指标
<br />
<br />

*展示结果*

<br />1、使用Matplotlib、Seaborn、Panda等绘制策略的累计收益曲线，来展示回测结果。数值包括净值曲线、年化收益、最大回撤、夏普比率等
<br />2、时间序列图表：绘制策略的累计收益、绝对收益以及与基准收益的对比图表。这可以帮助观察者了解策略在不同时间段的表现

**总结**
<br />
<br />对量化策略和系统的不熟悉导致花了很多时间在每一个步骤上，且最后并没有做成一个期中时所期望的一个真正的系统。每个策略也设计地欠佳。每一步都有完善的空间。
